# Dosya ismi yerine "." (mevcut dizin) kullanÄ±yoruz
MAIN_PATH = .
BINARY_NAME = desktop

all: build

templ:
	@echo "ğŸ¨ Generating Templ files..."
	@templ generate

build: templ
	@echo "ğŸ—ï¸  Building project..."
	@go build -tags wails -o bin/$(BINARY_NAME) $(MAIN_PATH)

run: templ
	@echo "ğŸš€ Starting server..."
	@go run -tags wails $(MAIN_PATH)

tidy:
	@echo "ğŸ§¹ Tidying modules..."
	@go mod tidy

clean:
	@echo "ğŸ—‘ï¸  Cleaning up..."
	@rm -rf bin/
	@find . -name "*_templ.go" -delete

watch:
	@echo "ğŸ‘€ Starting watch mode (Air)..."
	@air